@using ArmyStarter.Blazor.Display;

<div>
    <h4>@ModelDisplay.Model.Name</h4>
    @if (SelectedAttack == "Shooting")
    {
        <table>
            <tr>
                <td>Number of Models</td>
                <td>WS</td>
                <td>S</td>
                <td>A</td>
            </tr>
            <tr>
                <td><input type="number" @bind="@ModelDisplay.NumberOfModels" /></td>
                <td>@ModelDisplay.Model.WeaponSkill</td>
                <td>@ModelDisplay.Model.Strength</td>
                <td>@ModelDisplay.Model.Attacks</td>
            </tr>
        </table>
    }
    else
    {
        <table>
            <tr>
                <td>Number of Models</td>
                <td>BS</td>
            </tr>
            <tr>
                <td><input type="number"  @bind="@ModelDisplay.NumberOfModels" /></td>
                <td>@ModelDisplay.Model.BallisticSkill</td>
            </tr>
        </table>
    }
</div>

@code {
    [Parameter]
    ModelDisplay ModelDisplay { get; set; }

    [Parameter]
    string SelectedAttack { get; set; }

    void OnNumberOfModelsChanged(UIChangeEventArgs e)
    {
        ModelDisplay.NumberOfModels =  int.Parse(e.Value.ToString());
    Console.WriteLine(ModelDisplay.NumberOfModels);
    }

}
